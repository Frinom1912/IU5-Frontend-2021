{"version":3,"sources":["components/Funcs.ts","reducers/userReducer.ts","components/Search/Home.tsx","components/Selector.ts","components/Cards/Card.tsx","components/Error/Error.tsx","reducers/fetchUser.ts","components/About/About.tsx","components/bindHook.ts","App.jsx","store/index.ts","index.jsx"],"names":["GetURL","url","charAt","length","slice","UserActionTypes","DefaultUserState","user","login","Home","state","useRef","useState","place","setPlaceHolder","h","useHistory","useRouteMatch","dispatch","useDispatch","Find","current","value","type","SET_USERNAME","payload","push","className","ref","onKeyPress","event","key","id","placeholder","onClick","TypedUseSelector","useSelector","Card","userlist","textButton","setText","show","setShow","style","display","flexDirection","width","alignItems","alt","src","avatar_url","href","html_url","name","created_at","email","company","location","followers","following","public_repos","justifyContent","marginTop","marginBottom","marginLeft","cols","rows","readOnly","Error","margin","textAlign","fetchUser","a","fetch","headers","Authorization","process","REACT_APP_KEY","then","data","status","FETCH_ERROR","json","FETCH_COMPLETE","About","bindActionCreators","Actions","BindAction","console","log","useEffect","height","App","basename","exact","path","component","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c088ba82.chunk.js","sourcesContent":["import \"../App.css\"\r\n\r\nexport function GetURL(url : string) {\r\n    return (url.charAt(url.length - 1) === \"/\") ? url.slice(0, -1) : url;\r\n}","const DefaultUserState: UserState = {\r\n   user: null,\r\n   login: \"\"\r\n}\r\n\r\ninterface UserState {\r\n    user: any;\r\n    login: string | object;\r\n}\r\n\r\nexport interface UserAction {\r\n    type: UserActionTypes;\r\n    payload: string | object;\r\n}\r\n\r\nenum UserActionTypes {\r\n    SET_USERNAME = \"SET_USERNAME\",\r\n    FETCH_COMPLETE = \"FETCH_COMPLETE\",\r\n    FETCH_ERROR = \"FETCH_ERROR\"\r\n}\r\n\r\nconst userReducer = (state = DefaultUserState, action: UserAction) : UserState => {\r\n    switch(action.type) {\r\n        case UserActionTypes.FETCH_COMPLETE:\r\n            return {user: action.payload, login: state.login};\r\n        case UserActionTypes.SET_USERNAME:\r\n            return {user: action.payload, login: action.payload};\r\n        case UserActionTypes.FETCH_ERROR:\r\n            return {user: action.payload, login: state.login};\r\n        default: return state;\r\n    }\r\n}\r\n\r\n\r\nexport {userReducer, UserActionTypes}\r\n","import { useRef } from 'react'\r\nimport \"../../App.css\"\r\nimport {GetURL} from \"../Funcs\"\r\nimport {useState} from 'react';\r\nimport {useHistory, useRouteMatch} from 'react-router-dom';\r\nimport {UserActionTypes} from '../../reducers/userReducer'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction Home() {\r\n    const state = useRef<HTMLInputElement>(null);\r\n    const [place, setPlaceHolder] = useState(\"Поиск...\");\r\n    const h = useHistory();\r\n    const url = GetURL(useRouteMatch().url);\r\n    const dispatch = useDispatch();\r\n\r\n    const Find = () => {\r\n      if(state.current !== null && state.current.value !== \"\") {\r\n        dispatch({type: UserActionTypes.SET_USERNAME, payload: state.current.value});\r\n        h.push(`${url}/about/${state.current.value}`);\r\n      }\r\n      else {\r\n        setPlaceHolder(\"Введите логин!\");\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"container\">\r\n          <span>Поиск пользователя GitHub</span>\r\n          <input \r\n            className=\"search-box\" \r\n            ref={state}\r\n            onKeyPress = {(event)=> {\r\n              if(event.key === \"Enter\")\r\n                Find();\r\n            }}\r\n            id=\"bar\" \r\n            placeholder={place}>\r\n          </input>\r\n          <button \r\n            className=\"search-button\"\r\n            onClick={Find}>\r\n          Поиск\r\n          </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Home;","import {useSelector, TypedUseSelectorHook} from \"react-redux\"\r\nimport {RootState} from \"../store\"\r\n\r\nexport const TypedUseSelector: TypedUseSelectorHook<RootState> = useSelector;","import \"../../App.css\"\r\nimport { useState } from 'react';\r\nimport { TypedUseSelector } from '../Selector';\r\n\r\nfunction Card() {\r\n    const userlist = TypedUseSelector(state=>state.user.user);\r\n    const [textButton, setText] = useState(\"Показать ID\");\r\n    const [show, setShow] = useState(false); \r\n    const ShowID = () => {\r\n      setText(!show ? \"Скрыть ID\" : \"Показать ID\");\r\n      setShow(!show);\r\n    };\r\n    return(\r\n      <div style={{display:\"flex\", flexDirection: \"column\", width: \"100%\", alignItems: \"center\"}}>\r\n        <div className=\"Card\">\r\n          <img alt=\"\" className=\"avatar\" src={userlist.avatar_url}></img>\r\n          <div style={{display:\"flex\", flexDirection: \"column\"}}>\r\n            <p>\r\n              <span className=\"res\">Пользователь: </span>\r\n              <a className=\"res bold\" href={userlist.html_url}>{userlist.login}</a>\r\n            </p>\r\n            {(userlist.name) ? (<p><span className=\"res\">Имя: </span><span className=\"res bold\">{userlist.name}</span></p>) : <></>}\r\n            <p>\r\n              <span className=\"res small\">Уровень доступа: </span>\r\n              <span className=\"res small bold\">{userlist.type}</span>\r\n            </p>\r\n            <p>\r\n              <span className=\"res small\">Регистрация: </span>\r\n              <span className=\"res small bold\">{userlist.created_at.slice(0, 10)}</span>\r\n            </p>\r\n            {(userlist.email) ? <p><span className=\"res small\">Почта: {userlist.email}</span></p> : <></>}\r\n            {(userlist.company) ? <p><span className=\"res small\">Компания: {userlist.company}</span></p> : <></>}\r\n            {(userlist.location) ? <p><span className=\"res small\">Место проживания: {userlist.location}</span></p> : <></>}\r\n            <p>\r\n              <span className=\"res small\">Подписчиков: </span>\r\n              <span className=\"res small bold\">{userlist.followers}</span>\r\n            </p>\r\n            <p>\r\n              <span className=\"res small\">Подписок: </span>\r\n              <span className=\"res small bold\">{userlist.following}</span>\r\n            </p>\r\n            <p>\r\n              <span className=\"res small\">Открытых репов: </span>\r\n              <span className=\"res small bold\">{userlist.public_repos}</span>\r\n            </p>\r\n            <div style={{display: \"flex\", alignItems: \"center\", width: \"100%\", justifyContent: \"left\", marginTop: \"10px\"}}>\r\n              <button style={{marginTop: \"0px\", marginBottom: \"0px\"}} className=\"search-button\" onClick={ShowID}>{textButton}</button>\r\n              {show ? <textarea className=\"res small bold\" value={userlist.id} style={{marginLeft: \"10px\"}} cols={9} rows={1} readOnly> </textarea> : <></>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div> \r\n    );\r\n  }\r\n  \r\n  export default Card;","import {TypedUseSelector} from \"../Selector\"\r\n\r\nfunction Error() {\r\n    const user = TypedUseSelector(state=>state.user.login);\r\n    return (\r\n      <div style={{margin: \"0px 5% 0px 5%\", textAlign: \"center\"}} className=\"res\">Ошибка, пользователя с логином {<strong>{user}</strong>} не существует! Попробуйте еще раз.</div>\r\n    );\r\n  }\r\n\r\nexport default Error;","import {Dispatch} from \"redux\"\r\nimport {UserAction, UserActionTypes} from \"./userReducer\"\r\n\r\nexport const fetchUser = (user: string) => {\r\n    return async (dispatch: Dispatch<UserAction>) => {\r\n        fetch(`https://api.github.com/users/${user}`, {\r\n            headers: {\r\n                Authorization: `${process.env.REACT_APP_KEY}`,\r\n            }  \r\n        })\r\n      .then((data) => {\r\n        if(data.status === 404) {\r\n          dispatch({\r\n              type: UserActionTypes.FETCH_ERROR,\r\n              payload: \"Corruption while fetching user\"\r\n            }\r\n          );\r\n          return null;\r\n        }\r\n        else {\r\n          return data.json();\r\n        }\r\n      })\r\n      .then((data) => {\r\n          if(data) {\r\n            dispatch({\r\n              type: UserActionTypes.FETCH_COMPLETE,\r\n              payload: data\r\n            });\r\n          }\r\n      });\r\n    }\r\n}\r\n","import \"../../App.css\"\r\nimport Card from \"../Cards/Card\"\r\nimport {GetURL} from \"../Funcs\"\r\nimport Error from \"../Error/Error\"\r\nimport {useEffect} from 'react';\r\nimport {useHistory, useRouteMatch} from 'react-router-dom';\r\nimport {TypedUseSelector} from \"../Selector\"\r\nimport {BindAction} from '../bindHook'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { UserActionTypes } from \"../../reducers/userReducer\";\r\n\r\n\r\nfunction About() {\r\n    const dispatch = useDispatch();\r\n    const h = useHistory();\r\n    const user = TypedUseSelector(state=>state.user.user);\r\n    const url = GetURL(useRouteMatch().url);\r\n    const {fetchUser} = BindAction();\r\n    console.log(url);\r\n    useEffect(()=> {\r\n      if(typeof(user) != typeof({}))\r\n        fetchUser(user);\r\n    }, [user])\r\n\r\n    const BackClick = () => {\r\n      dispatch({type: UserActionTypes.SET_USERNAME, payload: \"\"})\r\n      h.push(`/`);\r\n    }\r\n  \r\n    return (\r\n      <div id=\"cont\" className=\"container container-huge\" style={{height: \"auto\"}}>\r\n        {(user === \"Corruption while fetching user\") ? <Error/> : (typeof(user) === typeof({}) ? <Card/> : <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>)}\r\n        <button className=\"search-button\" style={{marginBottom: \"30px\"}} onClick={BackClick}>Вернуться</button>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default About;","import { useDispatch } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as Actions from \"../reducers/fetchUser\"\r\n\r\nexport const BindAction = () => {\r\n    const dispatch = useDispatch();\r\n    return bindActionCreators(Actions, dispatch);\r\n  }","import './App.css';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Home from \"./components/Search/Home\"\r\nimport About from \"./components/About/About\"\r\n\r\nfunction App() {\r\n  return (\r\n   <Router basename=\"/lab10/build\">\r\n     <Switch>\r\n      <Route exact path=\"/\" component={Home}/>\r\n      <Route path=\"/about/:user\" component={About}/>\r\n     </Switch>\r\n   </Router>\r\n  );\r\n}\r\n\r\nexport default App;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {combineReducers} from 'redux';\r\nimport { userReducer } from '../reducers/userReducer';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {store} from './store';\r\nimport {Provider} from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}